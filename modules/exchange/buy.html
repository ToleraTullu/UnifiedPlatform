<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>UniManage - Buy Currency</title>
    <!-- Layout.js will inject Bootstrap CSS -->
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Content to be wrapped by Layout.js -->
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="card shadow-sm mt-4">
                <div class="card-header bg-white py-3">
                    <h4 class="card-title mb-0 text-primary">Record Purchase (Stock In)</h4>
                </div>
                <div class="card-body" id="exchange-buy-form">
                    <!-- Form injected by script.js -->
                    <div class="text-center py-5">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../../assets/js/store.js"></script>
    <script src="../../assets/js/auth.js"></script>
    <script src="../../assets/js/layout.js"></script>
    <script src="../../js/exchange.js"></script> <!-- Moved to root js/exchange.js based on previous context -->
    <script>
        // Init Layout
        const layout = new Layout();
        layout.ensureLayoutContainers();
        layout.checkAuth();
        layout.renderSidebar();
        layout.renderTopbar();

        // Init Module
        document.addEventListener('DOMContentLoaded', () => {
             // We need to instantiate ExchangeModule if not global
             // Wait, previous file used window.ExchangeModule from modules/exchange/script.js?
             // Or root js/exchange.js? 
             // Step 477 used "script.js" (local).
             // But Step 427 showed I was editing `e:/UnifiedPlatform/js/exchange.js`.
             // I should consolidate to `js/exchange.js` if possible, OR fix the local script path.
             // Let's assume for now we use the LOCAL script if it exists, or the Global one.
             // The user context showed `js/exchange.js` open.
             
             if (window.ExchangeModule) {
                 // It's a class in js/exchange.js
                 const ex = new ExchangeModule();
                 ex.onViewLoad('buy'); 
             }
        });
    </script>
</body>
</html>